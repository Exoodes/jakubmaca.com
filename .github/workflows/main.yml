name: 🚀 Build and Deploy React Website

on:
  push:
    branches: [ main ]  # Adjust this if you use a different branch name

jobs:
  build-and-deploy:
    name: 🎉 Build and Deploy
    runs-on: ubuntu-latest
    
    steps:
    - name: 🚚 Checkout repository
      uses: actions/checkout@v4

    - name: 🟢 Set up Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'  # Adjust this to your project's Node.js version

    - name: 📦 Install dependencies
      run: npm ci

    - name: 🏗️ Build project
      run: npm run build

    - name: 📂 Deploy to FTP
      uses: SamKirkland/FTP-Deploy-Action@v4.3.5
      with:
        server: 352062.w62.wedos.net
        username: w352062
        password: ${{ secrets.ftp_password }}
        local-dir: ./build/  # Adjust this to your build output directory
        server-dir: www  # Adjust this to your server path